(()=>{"use strict";function e(e,t){let n=t.children;for(const t of e)n[t[0]].children[t[1]].classList.add("paint__over-green")}const t=document.querySelector(".game-score-for-cross"),n=document.querySelector(".game-score-for-zeros"),r=document.querySelector(".player__move-number");let l=0,c=0,i=0,s=0,o=0,a=!1;function u(e,t){e.innerHTML="",t.classList.add("hidden"),a=!1,i=0}function d(e){for(let t=0;t<e.length;t++)f(e[t]);return e}function f(e){for(let t=0;t<e.length;t++)e[t]=0;return e}function g(e){for(var t=[],n=0;n<e;n++)t.push(new Array(e).fill(0));return t}function m(t,n,r,l,c){let i=function(e,t,n,r){for(var l=[],c=0,i=0;c<e[t].length;c++)if(1==e[t][c]){if(l.push([t,c]),++i==r)return l}else l=[],i=0;l=[];var s=0;for(i=0;s<e[n].length;s++)if(1==e[s][n]){if(l.push([s,n]),++i==r)return l}else l=[],i=0;return null}(t,n,r,l),s=function(e,t,n,r){var l=[];for(let c=0,i=0,s=t,o=n;c<e[t].length&&!(s>=e[t].length||s<0||o>=e[t].length||o<0);c++,s++,o++)if(1==e[s][o]){if(l.push([s,o]),i++,i==r)return l}else l=[],i=0;l=[];for(let c=0,i=0,s=t,o=n;c<e[t].length&&!(s>=e[t].length||s<0||o>=e[t].length||o<0);c++,s--,o--)if(1==e[s][o]){if(l.push([s,o]),i++,i==r)return l}else l=[],i=0;l=[];for(let c=0,i=0,s=t,o=n;c<e[t].length&&!(s>=e[t].length||s<0||o>=e[t].length||o<0);c++,s--,o++)if(1==e[s][o]){if(l.push([s,o]),i++,i==r)return l}else l=[],i=0;l=[];for(let c=0,i=0,s=t,o=n;c<e[t].length&&!(s>=e[t].length||s<0||o>=e[t].length||o<0);c++,s++,o--)if(1==e[s][o]){if(l.push([s,o]),i++,i==r)return l}else l=[],i=0;return null}(t,n,r,l);i&&(e(i,c),a=!0),s&&(e(s,c),a=!0)}function h(e,t,n,l,c,s,o){if(!0===a)return;let u=e.target;u.classList.contains("active-cell")||u.classList.contains("image-symbol")||(u.classList.add("active-cell"),i?(u.innerHTML='<img class="image-symbol zero-img" src="images/zero.png" alt="zero">',c[t][n]=1,m(c,t,n,o,s),r.innerHTML="Ходят крестики ❌"):(u.innerHTML='<img class="image-symbol cross-img" src="images/cross.png" alt="cross">',l[t][n]=1,m(l,t,n,o,s),r.innerHTML="Ходят нолики ⭕"),i=!i)}const L=document.querySelector(".playing__field"),v=document.querySelector(".menu-section"),y=document.querySelector("#cell"),p=document.querySelector(".button-play-3x3"),q=document.querySelector(".button-play-NxN"),S=document.querySelector(".button-play-again"),H=document.querySelector(".img-restart"),M=document.querySelector(".condition-for-NxN"),T=document.querySelector(".btn-go");let b=[],E=[];function N(e){const t=document.querySelector(".menu-list").querySelector(".active");if(e.classList.contains("active-game"))e.classList.toggle("active-game");else if(t){if(e===t)return t.classList.remove("active"),void u(L,v);t.classList.remove("active"),e.classList.add("active")}else e.classList.add("active")}function k(e,t,n,r,l){b=g(t),E=g(t);for(let l=0;l<t;l++){let c=document.createElement("tr");for(let i=0;i<t;i++){let t=n.content.cloneNode(!0).firstElementChild;t.dataset.index=`${l}${i}`,c.appendChild(t),t.addEventListener("click",(t=>h(t,l,i,b,E,e,r)))}e.appendChild(c)}v.classList.remove("hidden")}p.addEventListener("click",(e=>{c=3,k(L,3,y,c,e.target),N(e.target),M.classList.add("hidden")})),q.addEventListener("click",(e=>{u(L,v),N(e.target),M.classList.toggle("hidden")})),T.addEventListener("click",(()=>{l=+document.querySelector(".input-for-N").value,c=+document.querySelector(".input-for-K").value,0!=l&&0!=c?(M.classList.add("hidden"),q.classList.add("active-game"),k(L,l,y,c)):alert("Некорректные данные!")})),H.addEventListener("click",(()=>{H.classList.toggle("rotate"),s=0,o=0,n.innerHTML="0",t.innerHTML="0"})),S.addEventListener("click",(()=>{b=d(b),E=d(E),function(e){a=!1;for(const t of e.children)for(const e of t.children)e.innerHTML="",e.className="cell";i=0,r.innerHTML="Ходят крестики ❌"}(L)}))})();
//# sourceMappingURL=bundle.js.map