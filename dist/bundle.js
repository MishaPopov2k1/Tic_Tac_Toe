(()=>{"use strict";function e(e,t,n,r){return!!q(e,t,r)&&(function(e,t){let n=t.children;for(const t of e)n[t[0]].children[t[1]].classList.add("paint__over-green")}(q(e,t,r),n),a=!0)}const t=document.querySelector(".game-score-for-cross"),n=document.querySelector(".game-score-for-zeros"),r=document.querySelector(".player__move-number");let c=0,l=0,i=0,o=0,s=0,a=!1;function u(e,t){e.innerHTML="",t.classList.add("hidden"),a=!1,i=0}function d(e){for(let t=0;t<e.length;t++)f(e[t]);return e}function f(e){for(let t=0;t<e.length;t++)e[t]=0;return e}function m(e){for(var t=[],n=0;n<e;n++)t.push(new Array(e).fill(0));return t}function g(e){return e[0].map(((t,n)=>e.map((e=>e[n]))))}function L(e){let t=[[],[],[]],n=[],r=0;for(let n=0;n<e.length;n++){if(1!==e[n][r])return null;t[n][0]=n,t[n][1]=r,r++}for(let r=0;r<e.length;r++)n[r]=t[r].join("");return n}function v(e){let t=[[],[],[]],n=[],r=0;for(let n=2;n<e.length&&-1!==n;n--){if(1!==e[n][r])return null;t[n][0]=n,t[n][1]=r,r++}for(let r=0;r<e.length;r++)n[r]=t[r].join("");return n}function h(e,t){let n=[],r=0;for(let c=0;c<e.length;c++)if(0!==e[c]){if(1===e[c]&&(r++,n.push(c)),r===t)return n}else r=0,n=[];return null}function y(e,t){let n=[],r=-1;return e.forEach(((e,c)=>{let l=h(e,t);l&&(n=l,r=c)})),-1==r?n=null:(e.forEach(((e,t)=>{n[t]=[r,n[t]]})),n)}function p(e,t){let n=[],r=-1;return e.forEach(((e,c)=>{h(e,t)&&(n=h(e,t),r=c)})),-1==r?n=null:(e.forEach(((e,t)=>{n[t]+=`${r}`,n[t]=n[t].split("").map(Number)})),n)}function q(e,t,n){return v(e)?v(e):L(e)?L(e):y(e,n)?y(e,n):p(t,n)?p(t,n):void 0}function S(c,l,u,d,f,m,L){if(!0===a)return;let v=c.target;if(v.classList.contains("active-cell")||v.classList.contains("image-symbol"))return;i?(v.innerHTML='<img class="image-symbol zero-img" src="images/zero.png" alt="zero">',f[l][u]=1,r.innerHTML="Ходят крестики ❌"):(v.innerHTML='<img class="image-symbol cross-img" src="images/cross.png" alt="cross">',d[l][u]=1,r.innerHTML="Ходят нолики ⭕"),v.classList.add("active-cell"),i=!i;let h=g(d),y=g(f);!0===e(d,h,m,L)?(r.innerHTML="Победили крестики!",o++,t.innerHTML=`${o}`):!0===e(f,y,m,L)&&(r.innerHTML="Победили нолики!",s++,n.innerHTML=`${s}`)}const H=document.querySelector(".playing__field"),M=document.querySelector(".menu-section"),T=document.querySelector("#cell"),E=document.querySelector(".button-play-3x3"),b=document.querySelector(".button-play-NxN"),N=document.querySelector(".button-play-again"),k=document.querySelector(".img-restart"),_=document.querySelector(".condition-for-NxN"),$=document.querySelector(".btn-go");let x=[],z=[];function C(e){const t=document.querySelector(".menu-list").querySelector(".active");if(e.classList.contains("active-game"))e.classList.toggle("active-game");else if(t){if(u(H,M),e===t)return void t.classList.remove("active");t.classList.remove("active"),e.classList.add("active")}else e.classList.add("active")}function j(e,t,n,r,c){x=m(t),z=m(t);for(let c=0;c<t;c++){let l=document.createElement("tr");for(let i=0;i<t;i++){let t=n.content.cloneNode(!0).firstElementChild;t.dataset.index=`${c}${i}`,l.appendChild(t),t.addEventListener("click",(t=>S(t,c,i,x,z,e,r)))}e.appendChild(l)}M.classList.remove("hidden")}E.addEventListener("click",(e=>{l=3,j(H,3,T,l,e.target),C(e.target),_.classList.add("hidden")})),b.addEventListener("click",(e=>{u(H,M),C(e.target),_.classList.toggle("hidden")})),$.addEventListener("click",(()=>{c=+document.querySelector(".input-for-N").value,l=+document.querySelector(".input-for-K").value,0!=c&&0!=l?(_.classList.add("hidden"),b.classList.add("active-game"),j(H,c,T,l)):alert("Некорректные данные!")})),k.addEventListener("click",(()=>{k.classList.toggle("rotate"),o=0,s=0,n.innerHTML="0",t.innerHTML="0"})),N.addEventListener("click",(()=>{x=d(x),z=d(z),function(e){a=!1;for(const t of e.children)for(const e of t.children)e.innerHTML="",e.className="cell";i=0,r.innerHTML="Ходят крестики ❌"}(H)}))})();
//# sourceMappingURL=bundle.js.map