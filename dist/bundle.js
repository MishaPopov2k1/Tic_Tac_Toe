(()=>{"use strict";function e(e,n){const t=n.children;for(const n of e)t[n[0]].children[n[1]].classList.add("paint__over-green")}const n=document.querySelector(".game-score-for-cross"),t=document.querySelector(".game-score-for-zeros"),r=document.querySelector(".player__move-number");let o=0,i=0,c=0,l=0,s=0,u=!1;function a(e,n){e.innerHTML="",n.classList.add("hidden"),u=!1,c=0}function d(e){for(let n=0;n<e.length;n++)f(e[n]);return e}function f(e){for(let n=0;n<e.length;n++)e[n]=0;return e}function m(e){const n=[];for(let t=0;t<e;t++)n.push(new Array(e).fill(0));return n}function g(e,n,t,r,o,i){let c=[];for(let l=0,s=0,u=n,a=t;l<e[n].length;l++){if(u>=e[n].length||u<0||a>=e[n].length||a<0)return null;if(1==e[u][a]){if(c.push([u,a]),s++,u=o(u),a=i(a),s==r)return c}else c=[],s=0,u=o(u),a=i(a)}return null}function L(n,t,r,o,i){const c=function(e,n,t,r){let o=[];for(let t=0,i=0;t<e[n].length;t++)if(1==e[n][t]){if(o.push([n,t]),i++,i==r)return o}else o=[],i=0;o=[];for(let n=0,i=0;n<e[t].length;n++)if(1==e[n][t]){if(o.push([n,t]),i++,i==r)return o}else o=[],i=0;return null}(n,t,r,o),l=function(e,n,t,r){const o=g(e,n,t,r,(function(e){return++e}),(function(e){return++e}));if(o)return o;const i=g(e,n,t,r,(function(e){return--e}),(function(e){return--e}));if(i)return i;const c=g(e,n,t,r,(function(e){return--e}),(function(e){return++e}));return c||(g(e,n,t,r,(function(e){return++e}),(function(e){return--e}))||void 0)}(n,t,r,o);return c?(e(c,i),u=!0):!!l&&(e(l,i),u=!0)}function y(e){if(!0===u)return;const{cell:o,coordinates:{lineСoordinate:i,columnCoordinate:a},fields:{fieldOfСrosses:d,fieldOfZeros:f},playingField:m,numberOfSymbolsToWin:g}=e;o.classList.contains("active-cell")||o.classList.contains("image-symbol")||(o.classList.add("active-cell"),c?(o.innerHTML='<img class="image-symbol zero-img" src="images/zero.png" alt="zero">',f[i][a]=1,r.innerHTML="Ходят крестики ❌"):(o.innerHTML='<img class="image-symbol cross-img" src="images/cross.png" alt="cross">',d[i][a]=1,r.innerHTML="Ходят нолики ⭕"),c=!c,!0===L(d,i,a,g,m)?(r.innerHTML="❌Победа крестиков!❌",l++,n.innerHTML=`${l}`):!0===L(f,i,a,g,m)&&(r.innerHTML="⭕Победа ноликов!⭕",s++,t.innerHTML=`${s}`))}const v=document.querySelector(".playing__field"),h=document.querySelector(".menu-section"),p=document.querySelector("#cell"),S=document.querySelector(".button-play-3x3"),q=document.querySelector(".button-play-NxN"),T=document.querySelector(".button-play-again"),b=document.querySelector(".img-restart"),H=document.querySelector(".condition-for-NxN"),M=document.querySelector(".btn-go");let E=[],C=[];function N(e){const n=document.querySelector(".menu-list").querySelector(".active");if(e.classList.contains("active-game"))e.classList.toggle("active-game");else if(n){if(e===n)return n.classList.remove("active"),void a(v,h);n.classList.remove("active"),e.classList.add("active")}else e.classList.add("active")}function O(e,n,t,r,o){E=m(n),C=m(n);for(let o=0;o<n;o++){const i=document.createElement("tr");for(let c=0;c<n;c++){const n=t.content.cloneNode(!0).firstElementChild;n.dataset.index=`${o}${c}`;const l={cell:event,coordinates:{lineСoordinate:o,columnCoordinate:c},fields:{fieldOfСrosses:E,fieldOfZeros:C},playingField:e,numberOfSymbolsToWin:r};l.coordinates.lineСoordinate=o,l.coordinates.columnCoordinate=c,l.numberOfSymbolsToWin=r,i.appendChild(n),n.addEventListener("click",(e=>{l.cell=e.target,y(l)})),e.appendChild(i)}h.classList.remove("hidden")}}S.addEventListener("click",(e=>{o=3,i=3,O(v,o,p,i,e.target),N(e.target),H.classList.add("hidden")})),q.addEventListener("click",(e=>{a(v,h),N(e.target),H.classList.toggle("hidden")})),M.addEventListener("click",(()=>{const e=document.createElement("small");if(H.append(e),o=+document.querySelector(".input-for-N").value,i=+document.querySelector(".input-for-K").value,0==o||0==i)return alert("Некорректные данные!"),e.style.color="red",void(e.textContent="Некорректные данные!");H.classList.add("hidden"),q.classList.add("active-game"),O(v,o,p,i)})),b.addEventListener("click",(()=>{b.classList.toggle("rotate"),l=0,s=0,t.innerHTML="0",n.innerHTML="0"})),T.addEventListener("click",(()=>{E=d(E),C=d(C),function(e){u=!1;for(const n of e.children)for(const e of n.children)e.innerHTML="",e.className="cell";c=0,r.innerHTML="Ходят крестики ❌"}(v)}))})();
//# sourceMappingURL=bundle.js.map