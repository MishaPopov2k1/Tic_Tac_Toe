(()=>{"use strict";function e(e,n,t,o){return!!q(e,n,o)&&(function(e,n){let t=n.children;for(const n of e)t[n[0]].children[n[1]].classList.add("paint__over-green")}(q(e,n,o),t),u=!0)}const n=document.querySelector(".game-score-for-cross"),t=document.querySelector(".game-score-for-zeros"),o=document.querySelector(".player__move-number");let r=0,l=0,c=0,i=0,s=0,u=!1;function d(e,n){e.innerHTML="",n.classList.add("hidden"),u=!1,c=0}function a(e){for(let n=0;n<e.length;n++)f(e[n]);return e}function f(e){for(let n=0;n<e.length;n++)e[n]=0;return e}function m(e){for(var n=[],t=0;t<e;t++)n.push(new Array(e).fill(0));return n}function g(e){return e[0].map(((n,t)=>e.map((e=>e[t]))))}function L(e){let n=[[],[],[]],t=[],o=0;for(let t=0;t<e.length;t++){if(1!==e[t][o])return null;n[t][0]=t,n[t][1]=o,o++}for(let o=0;o<e.length;o++)t[o]=n[o].join("");return t}function h(e){let n=[[],[],[]],t=[],o=0;for(let t=2;t<e.length&&-1!==t;t--){if(1!==e[t][o])return null;n[t][0]=t,n[t][1]=o,o++}for(let o=0;o<e.length;o++)t[o]=n[o].join("");return t}function y(e,n){console.log("row: ",e,n);let t=[],o=0;for(let r=0;r<e.length;r++)if(console.log("count: ",o,"el",e[r],"i",r),0!==e[r]){if(1===e[r]&&(o++,t.push(r)),o===n)return console.log("indexRowI: ",t),t}else o=0,t=[];return null}function v(e,n){let t=[],o=-1;return e.forEach(((e,r)=>{let l=y(e,n);l&&(console.log("indArr: ",l),t=l,o=r)})),-1==o?t=null:(e.forEach(((e,n)=>{t[n]=[o,t[n]]})),console.log("indexRow",t),t)}function p(e,n){let t=[],o=-1;return e.forEach(((e,r)=>{y(e,n)&&(t=y(e,n),o=r)})),-1==o?t=null:(e.forEach(((e,n)=>{t[n]+=`${o}`,t[n]=t[n].split("").map(Number)})),t)}function q(e,n,t){return h(e)?h(e):L(e)?L(e):v(e,t)?v(e,t):p(n,t)?p(n,t):void 0}function S(r,l,d,a,f,m,L){if(!0===u)return;let h=r.target;c?(h.innerHTML='<img class="image-symbol zero-img" src="images/zero.png" alt="zero">',f[l][d]=1,o.innerHTML="Ходят крестики ❌"):(h.innerHTML='<img class="image-symbol cross-img" src="images/cross.png" alt="cross">',a[l][d]=1,o.innerHTML="Ходят нолики ⭕"),c=!c;let y=g(a),v=g(f);!0===e(a,y,m,L)?(o.innerHTML="Победили крестики!",i++,n.innerHTML=`${i}`):!0===e(f,v,m,L)&&(o.innerHTML="Победили нолики!",s++,t.innerHTML=`${s}`),console.log(a),console.log(f)}const E=document.querySelector(".playing__field"),H=document.querySelector(".menu-section"),M=document.querySelector("#cell"),T=document.querySelector(".button-play-3x3"),_=document.querySelector(".button-play-NxN"),b=document.querySelector(".button-play-again"),N=document.querySelector(".img-restart"),k=document.querySelector(".condition-for-NxN"),x=document.querySelector(".btn-go");let w=[],C=[];function $(e){e.classList.add("active")}function z(e,n,t,o,r){const l=document.querySelector(".menu-list");console.log(" menu: ",l);const c=l.querySelector(".active");if(console.log("activeBtn: ",c),c){if(d(e,H),c.classList.remove("active"),r===c)return;$(r)}else $(r);w=m(n),C=m(n);for(let r=0;r<n;r++){let l=document.createElement("tr");for(let c=0;c<n;c++){let n=t.content.cloneNode(!0).firstElementChild;n.dataset.index=`${r}${c}`,l.appendChild(n),n.addEventListener("click",(n=>S(n,r,c,w,C,e,o)))}e.appendChild(l)}H.classList.remove("hidden")}T.addEventListener("click",(e=>{l=3,z(E,3,M,l,e.target),k.classList.add("hidden")})),_.addEventListener("click",(e=>{d(E,H),k.classList.remove("hidden")})),x.addEventListener("click",(()=>{r=+document.querySelector(".input-for-N").value,l=+document.querySelector(".input-for-K").value,console.log(r,l),k.classList.add("hidden"),z(E,r,M,l,_)})),N.addEventListener("click",(()=>{N.classList.toggle("rotate"),i=0,s=0,t.innerHTML="0",n.innerHTML="0"})),b.addEventListener("click",(()=>{w=a(w),C=a(C),function(e){u=!1;for(const n of e.children)for(const e of n.children)e.lastElementChild.classList.add("hidden"),e.firstElementChild.classList.add("hidden"),e.classList.remove("paint__over-green"),e.classList.remove("paint__over-yellow");c=0,o.innerHTML="Ходят крестики ❌"}(E)}))})();
//# sourceMappingURL=bundle.js.map